sudo: false
language: python
python: "2.7"
# cache:
#   directories:
#   - "$HOME/google-cloud-sdk/"
env:
  - PATH=$HOME/google-cloud-sdk/bin:$PATH PYTHONPATH=$PYTHONPATH:$HOME/google-cloud-sdk/platform/google_appengine CLOUDSDK_CORE_DISABLE_PROMPTS=1
before_install:
  - if [ ! -d ${HOME}/google-cloud-sdk ]; then curl https://sdk.cloud.google.com | bash ; fi
  - gcloud components update
  - gcloud components install app-engine-python
install:
  - pip install git+https://github.com/potatolondon/djangae.git@32bc836fa3a031ce943e8ff945ba86e3eb7366f1#egg=djangae==0.9.10a0
  - pip install . flake8 funcsigs
script:
  - flake8 .
  - python manage.py test -v 2
